# SPA веб-приложение

## Описание:
Созданы следующие модели:
1. Пользователь (приложение users):
* все поля от обычного пользователя, но авторизацию заменить на email;
* телефон;
* город;
* аватарка.
2. Платежи (приложение users):
* пользователь,
* дата оплаты,
* оплаченный курс или урок,
* сумма оплаты,
* способ оплаты: наличные или перевод на счет.
3. Курс (приложение lms):
* название,
* превью (картинка),
* описание,
* стоимость.
4. Урок (приложение lms):
* название,
* описание,
* превью (картинка),
* ссылка на видео,
* стоимость.
5. Подписка (приложение lms)
* пользователь,
* курс.

Урок и курс - это связанные между собой сущности.
Уроки складываются в курс, в одном курсе может быть много уроков.

При реализации CRUD для курса использованы Viewsets, а для урока - Generic-классы.

Для уроков предусмотрена дополнительная проверка на отсутствие в материалах ссылок на сторонние ресурсы, кроме youtube.com

Для модели курса добавлены поля вывода количества уроков и их имен.

Для вывода всех уроков и курсов реализована пагинация.

Добавлена возможность фильтрации списка платежей с возможностями:
* менять порядок сортировки по дате оплаты,
* фильтровать по курсу или уроку,
* фильтровать по способу оплаты.

Обязательным условием для выполнения любой операций, кроме входа и регистрации, является аутентификация.

Введены дополнительные ограничения прав пользователей.
1. Доступ ко списку курсов и уроков есть у всех пользователей. 
2. Обычные пользователи могут создать курс или урок,
но доступ к просмотру детальной информации, редактированию и удалению есть только у создателя материала.
3. У группы модераторов есть доступ к просмотру детальной информации о курсе и уроке, но нет прав для создания и удаления.

Организован вывод API-документации для проекта. Документация доступна по адресам:
* swagger/
* redoc/

Подключена возможность оплаты курсов через https://stripe.com/docs/api.

Добавлена асинхронная рассылка писем пользователям-подписчикам об обновлении материалов курса.

Добавлена фоновая задача по блокировке пользователей при неактивности на сайте более 1 месяца.
## Использование:
```
git clone https://github.com/Khailen13/project_5
```
2. Установите зависимости:
```
poetry install
```

## Документация:
Для получения дополнительной информации обратитесь к [документации](docs/README.md).

## Тестирование:
Отчет о тестировании находится в файле "index.html" в папке htmlcov.

## Лицензия:
Этот проект лицензирован по [лицензии MIT](LICENSE).